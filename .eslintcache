[{"C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\index.js":"1","C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\reportWebVitals.js":"2","C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\App.js":"3","C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\Views\\Voting.js":"4","C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\Components\\Rating.js":"5","C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\Views\\Results.js":"6","C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\Views\\Success.js":"7","C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\graphql\\queries.js":"8","C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\aws-exports.js":"9","C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\graphql\\mutations.js":"10","C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\games.js":"11","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\index.js":"12","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\reportWebVitals.js":"13","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\App.js":"14","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Views\\Voting.js":"15","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Views\\Success.js":"16","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Views\\Results.js":"17","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\graphql\\queries.js":"18","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\graphql\\mutations.js":"19","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Components\\Rating.js":"20","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\aws-exports.js":"21","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Views\\Games.js":"22","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Views\\index.js":"23","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Views\\PlayerRatings.js":"24","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Constants\\games.js":"25","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Constants\\players.js":"26"},{"size":639,"mtime":1608066095919,"results":"27","hashOfConfig":"28"},{"size":362,"mtime":499162500000,"results":"29","hashOfConfig":"28"},{"size":1130,"mtime":1608162360036,"results":"30","hashOfConfig":"28"},{"size":2484,"mtime":1608162218871,"results":"31","hashOfConfig":"28"},{"size":2900,"mtime":1608057299582,"results":"32","hashOfConfig":"28"},{"size":3057,"mtime":1608164082296,"results":"33","hashOfConfig":"28"},{"size":312,"mtime":1608061104908,"results":"34","hashOfConfig":"28"},{"size":1263,"mtime":1608152357924,"results":"35","hashOfConfig":"28"},{"size":478,"mtime":1608152306748,"results":"36","hashOfConfig":"28"},{"size":1126,"mtime":1608152358101,"results":"37","hashOfConfig":"28"},{"size":3034,"mtime":1608161077602,"results":"38","hashOfConfig":"28"},{"size":660,"mtime":1608312790000,"results":"39","hashOfConfig":"40"},{"size":375,"mtime":1608312790003,"results":"41","hashOfConfig":"40"},{"size":1422,"mtime":1608570459861,"results":"42","hashOfConfig":"40"},{"size":1769,"mtime":1608570977039,"results":"43","hashOfConfig":"40"},{"size":312,"mtime":1608312789994,"results":"44","hashOfConfig":"40"},{"size":3745,"mtime":1608484114294,"results":"45","hashOfConfig":"40"},{"size":1333,"mtime":1608312789998,"results":"46","hashOfConfig":"40"},{"size":1183,"mtime":1608312789998,"results":"47","hashOfConfig":"40"},{"size":3349,"mtime":1608395650597,"results":"48","hashOfConfig":"40"},{"size":692,"mtime":1608397057919,"results":"49","hashOfConfig":"40"},{"size":698,"mtime":1608570463265,"results":"50","hashOfConfig":"40"},{"size":244,"mtime":1608570245718,"results":"51","hashOfConfig":"40"},{"size":3181,"mtime":1608578825579,"results":"52","hashOfConfig":"40"},{"size":3034,"mtime":1608570454078,"results":"53","hashOfConfig":"40"},{"size":679,"mtime":1608570913841,"results":"54","hashOfConfig":"40"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},"1lgh1cr",{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"1lzlznw",{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"80"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\index.js",[],["110","111"],"C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\reportWebVitals.js",[],"C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\App.js",[],"C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\Views\\Voting.js",[],"C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\Components\\Rating.js",[],"C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\Views\\Results.js",["112","113","114","115","116","117","118"],"C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\Views\\Success.js",[],"C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\graphql\\queries.js",[],"C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\aws-exports.js",[],"C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\graphql\\mutations.js",[],"C:\\Users\\Kelsey\\Documents\\GitHub\\bucks-ratings\\src\\games.js",[],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\index.js",[],["119","120"],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\reportWebVitals.js",[],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\App.js",[],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Views\\Voting.js",[],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Views\\Success.js",[],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Views\\Results.js",["121","122","123","124","125"],"import React,{ useState, useEffect } from 'react'\r\nimport {\r\n    ResponsiveContainer, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip,\r\n  } from 'recharts';\r\nimport './Results.css'\r\nimport { Link } from 'react-router-dom'\r\nimport Amplify, { API, graphqlOperation } from 'aws-amplify'\r\nimport { listRatings } from '../graphql/queries'\r\nimport awsExports from \"../aws-exports\"\r\nAmplify.configure(awsExports)\r\n\r\nfunction Results({ currentGame }) {\r\n    const [ratings, setRatings] = useState([])\r\n    const [averageRatings, setAverageRatings] = useState([])\r\n\r\n    useEffect(() => {getRatings()}, [])\r\n\r\n    function groupBy(xs, key) {\r\n        return xs.reduce(function(rv, x) {\r\n          (rv[x[key]] = rv[x[key]] || []).push(x);\r\n          return rv;\r\n        }, {});\r\n      };\r\n\r\n    function getAverageRatings(ratings) {\r\n      const groupedRatings = groupBy(ratings, 'ratee')\r\n      for(var ratee in groupedRatings) {\r\n          const average = groupedRatings[ratee].reduce((total, next) => total + next.rating, 0) / groupedRatings[ratee].length;\r\n          const roundedAverage = Math.round(average * 100)/100\r\n          setAverageRatings(averageRatings => [...averageRatings, {name: ratee, rating: average}])\r\n      }\r\n    }\r\n\r\n    function getSubmissionCount() {\r\n      const khrisCount = ratings.filter((rating) => rating.ratee === 'Khris').length\r\n      const giannisCount = ratings.filter((rating) => rating.ratee === 'Giannis').length\r\n      const jrueCount = ratings.filter((rating) => rating.ratee === 'Jrue').length\r\n      return Math.max(khrisCount, giannisCount, jrueCount)\r\n    }\r\n\r\n    async function getRatings() {\r\n      try {\r\n        const ratingsData = await API.graphql(graphqlOperation(listRatings, {\r\n          filter: {\r\n              gameId: {\r\n                  eq: currentGame.id\r\n              }\r\n          }, limit: 2000\r\n      }))\r\n        const ratings = ratingsData.data.listRatings.items\r\n        setRatings(ratings)\r\n        const groupedRatings = groupBy(ratings, 'ratee')\r\n        for(var ratee in groupedRatings) {\r\n            const average = groupedRatings[ratee].reduce((total, next) => total + next.rating, 0) / groupedRatings[ratee].length;\r\n            const roundedAverage = Math.round(average * 10) / 10\r\n            setAverageRatings(averageRatings => [...averageRatings, {name: ratee, rating: roundedAverage}])\r\n        }\r\n      } catch (err) { console.log('error fetching ratings') }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n          <p>Results: {currentGame.opponent} - {currentGame.date.getMonth() + 1}/{currentGame.date.getDate() + 1}</p>\r\n            <div className=\"RechartsDiv\">\r\n                <ResponsiveContainer width={\"95%\"} height={\"100%\"}>\r\n                    <BarChart\r\n                    data={averageRatings}\r\n                    margin={{\r\n                    top: 10, right: 0, left: -30, bottom: 0,\r\n                    }}>\r\n                        <CartesianGrid strokeDasharray=\"3 3\" />\r\n                        <XAxis dataKey='name' angle={-90} textAnchor=\"end\" height={80} interval={0} />\r\n                        <YAxis type=\"number\" domain={[0, 10]} />\r\n                        <Tooltip />\r\n                        <Bar dataKey='rating' fill=\"#004514\"/>\r\n                    </BarChart>\r\n                </ResponsiveContainer>\r\n            </div>\r\n            <p>Total Submissions: {getSubmissionCount()}</p>\r\n            <div>\r\n              <Link to=\"/success\">\r\n                <button className=\"ButtonLink\">Return</button>\r\n              </Link>\r\n              <Link to=\"/games\">\r\n                <button className=\"ButtonLink\">Other Games</button>\r\n              </Link>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Results\r\n","C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\graphql\\queries.js",[],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\graphql\\mutations.js",[],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Components\\Rating.js",[],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\aws-exports.js",[],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Views\\Games.js",[],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Views\\index.js",[],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Views\\PlayerRatings.js",["126","127","128"],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Constants\\games.js",[],"C:\\Users\\Kelsey\\Documents\\bucks-ratings\\src\\Constants\\players.js",[],{"ruleId":"129","replacedBy":"130"},{"ruleId":"131","replacedBy":"132"},{"ruleId":"133","severity":1,"message":"134","line":13,"column":12,"nodeType":"135","messageId":"136","endLine":13,"endColumn":19},{"ruleId":"133","severity":1,"message":"137","line":13,"column":21,"nodeType":"135","messageId":"136","endLine":13,"endColumn":31},{"ruleId":"138","severity":1,"message":"139","line":16,"column":37,"nodeType":"140","endLine":16,"endColumn":39,"suggestions":"141"},{"ruleId":"133","severity":1,"message":"142","line":25,"column":14,"nodeType":"135","messageId":"136","endLine":25,"endColumn":31},{"ruleId":"133","severity":1,"message":"143","line":29,"column":17,"nodeType":"135","messageId":"136","endLine":29,"endColumn":31},{"ruleId":"144","severity":1,"message":"145","line":30,"column":29,"nodeType":"146","messageId":"147","endLine":30,"endColumn":98},{"ruleId":"144","severity":1,"message":"145","line":48,"column":31,"nodeType":"146","messageId":"147","endLine":48,"endColumn":107},{"ruleId":"129","replacedBy":"148"},{"ruleId":"131","replacedBy":"149"},{"ruleId":"138","severity":1,"message":"139","line":16,"column":37,"nodeType":"140","endLine":16,"endColumn":39,"suggestions":"150"},{"ruleId":"133","severity":1,"message":"142","line":25,"column":14,"nodeType":"135","messageId":"136","endLine":25,"endColumn":31},{"ruleId":"133","severity":1,"message":"143","line":29,"column":17,"nodeType":"135","messageId":"136","endLine":29,"endColumn":31},{"ruleId":"144","severity":1,"message":"145","line":30,"column":29,"nodeType":"146","messageId":"147","endLine":30,"endColumn":98},{"ruleId":"144","severity":1,"message":"145","line":56,"column":31,"nodeType":"146","messageId":"147","endLine":56,"endColumn":107},{"ruleId":"133","severity":1,"message":"151","line":15,"column":12,"nodeType":"135","messageId":"136","endLine":15,"endColumn":25},{"ruleId":"138","severity":1,"message":"139","line":22,"column":37,"nodeType":"140","endLine":22,"endColumn":53,"suggestions":"152"},{"ruleId":"144","severity":1,"message":"153","line":48,"column":35,"nodeType":"146","messageId":"147","endLine":48,"endColumn":112},"no-native-reassign",["154"],"no-negated-in-lhs",["155"],"no-unused-vars","'ratings' is assigned a value but never used.","Identifier","unusedVar","'setRatings' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getRatings'. Either include it or remove the dependency array.","ArrayExpression",["156"],"'getAverageRatings' is defined but never used.","'roundedAverage' is assigned a value but never used.","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'ratee'.","ArrowFunctionExpression","unsafeRefs",["154"],["155"],["157"],"'playerRatings' is assigned a value but never used.",["158"],"Function declared in a loop contains unsafe references to variable(s) 'game'.","no-global-assign","no-unsafe-negation",{"desc":"159","fix":"160"},{"desc":"159","fix":"161"},{"desc":"162","fix":"163"},"Update the dependencies array to be: [getRatings]",{"range":"164","text":"165"},{"range":"166","text":"165"},"Update the dependencies array to be: [getRatings, selectedPlayer]",{"range":"167","text":"168"},[596,598],"[getRatings]",[598,600],[929,945],"[getRatings, selectedPlayer]"]